{"version":3,"sources":["../src/index.js"],"names":["morgan","require","config","dotenv","port","process","env","PORT","app","use","bodyParser","json","urlencoded","extended","router","mongoose","Promise","global","startServer","listen","console","log","connect","DB_USER","DB_PASSWORD","useNewUrlParser","then","catch","err","module","exports"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEA,IAAIC,SAASD,QAAQ,UAAR,CAAb;AACAE,iBAAOD,MAAP;AACA,IAAIE,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B;AACA,IAAIC,MAAM,wBAAV;AACAA,IAAIC,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;AACAH,IAAIC,GAAJ,CAAQC,qBAAWE,UAAX,CAAsB;AAC1BC,cAAU;AADgB,CAAtB,CAAR;AAGAL,IAAIC,GAAJ,CAAQ,GAAR,EAAaK,gBAAb;;AAEAC,mBAASC,OAAT,GAAmBC,OAAOD,OAA1B;;AAEA,IAAIE,cAAc,SAAdA,WAAc,GAAY;AAC1BV,QAAIW,MAAJ,CAAWf,IAAX,EAAiB,YAAM;AACnBgB,gBAAQC,GAAR,CAAY,4BAA4BjB,IAAxC;AACH,KAFD;AAGH,CAJD;AAKAc;;AAEAH,mBAASO,OAAT,gBAA8BjB,QAAQC,GAAR,CAAYiB,OAA1C,SAAqDlB,QAAQC,GAAR,CAAYkB,WAAjE,2CAAoH;AAC5GC,qBAAiB;AAD2F,CAApH,EAGKC,IAHL,CAGU,YAAM;AACRN,YAAQC,GAAR,CAAY,oCAAZ;AAEH,CANL,EAMOM,KANP,CAMa,UAACC,GAAD,EAAS;AACdR,YAAQC,GAAR,CAAYO,GAAZ;AACAR,YAAQC,GAAR,CAAY,8BAAZ;AACH,CATL;AAUA,IAAInB,OAAOI,GAAP,IAAc,MAAlB,EAA0B;AACtB;AACAE,QAAIC,GAAJ,CAAQT,OAAO,UAAP,CAAR,EAFsB,CAEO;AAChC;;AAED6B,OAAOC,OAAP,GAAiBtB,GAAjB","file":"index.js","sourcesContent":["import express from 'express';\nimport mongoose from 'mongoose';\nimport router from './routes/router';\nimport bodyParser from 'body-parser';\nimport dotenv from 'dotenv';\nvar morgan = require('morgan');\n\nlet config = require('./config');\ndotenv.config();\nlet port = process.env.PORT || 5000;\nlet app = express();\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n    extended: true\n}));\napp.use('/', router);\n\nmongoose.Promise = global.Promise;\n\nlet startServer = function () {\n    app.listen(port, () => {\n        console.log('Server running on port ' + port);\n    });\n}\nstartServer();\n\nmongoose.connect(`mongodb://${process.env.DB_USER}:${process.env.DB_PASSWORD}@ds245661.mlab.com:45661/capstone_db`, {\n        useNewUrlParser: true\n    })\n    .then(() => {\n        console.log('Connection established to database');\n        \n    }).catch((err) => {\n        console.log(err);\n        console.log('Error connecting to mongo db');\n    });\nif (config.env == 'test') {\n    //use morgan to log at command line\n    app.use(morgan('combined')); //'combined' outputs the Apache style LOGs\n}\n\nmodule.exports = app;"]}